<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen" />
<script type="text/javascript" src="/js/prototype.js"></script>
<script type="text/javascript" src="/js/beautybar.js"></script>
<title>BeautyBar</title>
</head>
<body>

<center>

<table width="1000">
<tr>
<td width="100" bgcolor="yellow"></td>
<td width="800">

<!-- Logo -->
<table>
<tr>
<td><img src="/images/logo.png" /></td>
<td><br><h1>BeautyBar<br><font size="-1">nice graphs online</font></h1></td>
</tr>
</table>

<table>
<tr>
<td valign="top" width="400">

<!-- Data part -->
<table width="100%">
<tr><td colspan="2" bgcolor="khaki"><h3>Data</h3></td></tr>
<tr><td bgcolor="khaki">
<table border="0" width="300">
<form action="/modify_data" method="GET">
<tr><th>Name</th><th>Value</th></tr>
{% for item in items %}
<tr>
<td><input type="text" id="name{{ forloop.counter }}" value="{{ item.name }}"
	   onblur="fm('name{{ forloop.counter }}');" /></td>
<td><input type="text" id="value{{ forloop.counter }}" value="{{ item.value }}" 
	   onblur="fm('value{{ forloop.counter }}');" /></td>
</tr>
{% endfor %}
</form>
</table>
</td></tr>
<tr><td bgcolor="khaki">
<table>
<tr>
<form action="/save" method="POST">
<td><input type="text" name="f_savefile" value="" /></td>
<td><input type="submit" name="f_save"  value="Save" /></td>
</form>
</tr>
<tr>
<form action="/load" method="POST">
<td><input type="text" name="f_loadfile" value="" /></td>
<td><input type="submit" name="f_load"  value="Load" /></td>
</form>
</tr>
<tr>
<td></td>
<td>
<form action="/clean" method="POST">
<input type="submit" name="f_clean" value="Clean" />
</form>
</td>
</tr>
</table>
</td></tr>
</table>

</td>
<td valign="top" width="400">

<!-- Graph part -->
<table width="100%">
<tr><td colspan="2" bgcolor="olive"><h2>Bar</h2></td></tr>
<tr><td bgcolor="olive">
   <!-- image -->
<span id="output_image">
<object data="/output_image" type="image/svg+xml" height="200" width="300" />
</span>
</td></tr>
<tr><td bgcolor="olive">
   <!-- choose graph type -->
<form action="/" method="POST">
<!-- TODO: loop through and show pictures -->
bars: <input type="radio" name="bartype" value="bars" />
pie chart: <input type="radio" name="bartype" value="piechart" />
</form>
</td></tr>
<tr><td bgcolor="olive">
   <!-- choose graph parameters -->
<form action="/" method="POST">
<!-- TODO: read from different template -->
<table>
<tr>
<td>background: </td><td><input type="file" name="g_bgimage" value="" /></td>
</tr><tr>
<td>color: </td><td><input type="text" name="g_color" value="blue" /></td>
</tr>
</table>
</td></tr>

</table>
</td>
</tr>
</table>

<hr />
DEBUG: <span id="debug">{{ debug }}</debug>

</td>
<td width="100" bgcolor="yellow">
</td>
</tr>
</table>

</center>

</body>
</html>
